# Kompilator och flaggor
CC := g++
FLAGS := -std=e++17 -Wall -Wextra -Wpedantic -Werror -Weffc++
LIB := -lsfml-window -lsfml-graphics -lsfml-system

# K채llfiler och m책lfil
SRC_DIR=src
SOURCES := $(shell find $(SRC_DIR) -name '*.cc')
TARGET := start

# Standardregel
all: $(TARGET)

# Kompilera m책lfilen
$(TARGET): $(SOURCES)
	$(CC) $(SOURCES) -o $(TARGET) $(LIB)

# valgrind: $(TARGET)
# 	valgrind --leak-check=full --track-origins=yes ./$(TARGET)

valgrind: $(TARGET)
	valgrind --leak-check=full --track-origins=yes --show-leak-kinds=all --suppressions=suppressions.txt ./$(TARGET)


# St채da upp
clean:
	rm -f $(TARGET)